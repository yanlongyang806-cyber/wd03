#include "textparser.h"

//auto-generated staticdefine for enum AutoLODFlags
//autogeneratednocheckin
StaticDefineInt AutoLODFlagsEnum[] =
{
	DEFINE_INT
	{ "ErrorTriCount", LOD_ERROR_TRICOUNT},
	{ "NullModel", LOD_ERROR_NULL_MODEL},
	{ "Remesh", LOD_ERROR_REMESH},
	DEFINE_END
};
void autoEnum_fixup_AutoLODFlags(void)
{
	static bool bOnce = false; if (bOnce) return; bOnce = true;
	RegisterNamedStaticDefine(AutoLODFlagsEnum, "AutoLODFlags");
}
//autogeneratednocheckin
//Structparser.exe autogenerated ParseTable for struct AutoLODTemplate
#define TYPE_parse_AutoLODTemplate AutoLODTemplate
ParseTable parse_AutoLODTemplate[] =
{
	{ "AutoLODTemplate", 	TOK_IGNORE | TOK_PARSETABLE_INFO, sizeof(AutoLODTemplate), 0, NULL, 0, NULL },
	{ "LodNear",			TOK_F32(AutoLODTemplate, lod_near, 0), NULL },
	{ "LodFar",				TOK_F32(AutoLODTemplate, lod_far, 0), NULL },
	{ "NoFade",				TOK_AUTOINT(AutoLODTemplate, no_fade, 0), NULL },
	{ "LodNearFade",		TOK_IGNORE, 0 },
	{ "LodFarFade",			TOK_IGNORE, 0 },
	{ "End",				TOK_END, 0 },
	{ "", 0, 0 }
};
int autoStruct_fixup_AutoLODTemplate()
{
	int iSize = sizeof(AutoLODTemplate);
	static char once = 0;
	if (once) return 0;
	once = 1;
	ParserSetTableInfo(parse_AutoLODTemplate, iSize, "AutoLODTemplate", NULL, "wlAutoLOD.h", 0 | SETTABLEINFO_ALLOW_CRC_CACHING  );
	return 0;
};
//autogeneratednocheckin
extern ParseTable parse_AutoLODTemplate[];
#define TYPE_parse_AutoLODTemplate AutoLODTemplate
//Structparser.exe autogenerated ParseTable for struct ModelLODTemplate
#define TYPE_parse_ModelLODTemplate ModelLODTemplate
ParseTable parse_ModelLODTemplate[] =
{
	{ "ModelLODTemplate", 	TOK_IGNORE | TOK_PARSETABLE_INFO, sizeof(ModelLODTemplate), 0, NULL, 0, NULL },
	{ "",					TOK_STRUCTPARAM | TOK_KEY | TOK_STRING(ModelLODTemplate, template_name, 0), NULL },
	{ "Radius",				TOK_F32(ModelLODTemplate, default_radius, 0), NULL },
	{ "AutoLODTemplate",	TOK_STRUCT(ModelLODTemplate, lods, parse_AutoLODTemplate) },
	{ "Filename",			TOK_POOL_STRING | TOK_CURRENTFILE(ModelLODTemplate, filename), NULL},
	{ "PreventClustering",	TOK_BOOLFLAG(ModelLODTemplate, prevent_clustering, 0), NULL },
	{ "End",				TOK_END, 0 },
	{ "", 0, 0 }
};
int autoStruct_fixup_ModelLODTemplate()
{
	int iSize = sizeof(ModelLODTemplate);
	static char once = 0;
	if (once) return 0;
	once = 1;
	ParserSetTableInfo(parse_ModelLODTemplate, iSize, "ModelLODTemplate", NULL, "wlAutoLOD.h", 0 | SETTABLEINFO_ALLOW_CRC_CACHING  );
	return 0;
};
//autogeneratednocheckin
extern ParseTable parse_TextureSwap[];
#define TYPE_parse_TextureSwap TextureSwap
extern ParseTable parse_MaterialSwap[];
#define TYPE_parse_MaterialSwap MaterialSwap
//Structparser.exe autogenerated ParseTable for struct AutoLOD
#define TYPE_parse_AutoLOD AutoLOD
ParseTable parse_AutoLOD[] =
{
	{ "AutoLOD", 				TOK_IGNORE | TOK_PARSETABLE_INFO, sizeof(AutoLOD), 0, NULL, 0, NULL },
	{ "AllowedError",			TOK_F32(AutoLOD, max_error, 0), NULL },
	{ "UpScale",				TOK_F32(AutoLOD, upscale_amount, 0), NULL },
	{ "LodNear",				TOK_F32(AutoLOD, lod_near, 0), NULL },
	{ "LodFar",					TOK_F32(AutoLOD, lod_far, 0), NULL },
	{ "LodFarMorph",			TOK_F32(AutoLOD, lod_farmorph, 0), NULL },
	{ "LodFlags",				TOK_AUTOINT(AutoLOD, flags, 0), AutoLODFlagsEnum },
	{ "ModelName",				TOK_POOL_STRING | TOK_STRING(AutoLOD, lod_modelname, 0), NULL },
	{ "GeoFileName",			TOK_POOL_STRING | TOK_FILENAME(AutoLOD, lod_filename, NULL), NULL},
	{ "TextureSwap",			TOK_STRUCT(AutoLOD, texture_swaps, parse_TextureSwap) },
	{ "MaterialSwap",			TOK_STRUCT(AutoLOD, material_swaps, parse_MaterialSwap) },
	{ "NoFade",					TOK_BIT, 0, 8, NULL},
	{ "UseFallbackMaterials",	TOK_BIT, 0, 8, NULL},
	{ "LodNearFade",			TOK_IGNORE, 0 },
	{ "LodFarFade",				TOK_IGNORE, 0 },
	{ "End",					TOK_END, 0 },
	{ "", 0, 0 }
};
void FindAutoStructBitField(char *pStruct, int iAllocedSizeInWords, ParseTable *pTPIColumn);
int autoStruct_fixup_AutoLOD()
{
	int iSize = sizeof(AutoLOD);
	static char once = 0;
	if (once) return 0;
	once = 1;
	ParserSetTableInfo(parse_AutoLOD, iSize, "AutoLOD", NULL, "wlAutoLOD.h", 0 | SETTABLEINFO_ALLOW_CRC_CACHING  );
	{
		int iSizeInWords = (sizeof(AutoLOD) + 7) / 4;
		AutoLOD *pTemp = alloca(iSizeInWords * 4);
		memset(pTemp, 0, iSizeInWords * 4);
		pTemp->no_fade = ~0;
		FindAutoStructBitField((char*)pTemp, iSizeInWords, &parse_AutoLOD[11]);
		pTemp->no_fade = 0;
		pTemp->use_fallback_materials = ~0;
		FindAutoStructBitField((char*)pTemp, iSizeInWords, &parse_AutoLOD[12]);
		pTemp->use_fallback_materials = 0;
	}
	return 0;
};
//autogeneratednocheckin
extern ParseTable parse_AutoLOD[];
#define TYPE_parse_AutoLOD AutoLOD
//Structparser.exe autogenerated ParseTable for struct ModelLODInfo
#define TYPE_parse_ModelLODInfo ModelLODInfo
ParseTable parse_ModelLODInfo[] =
{
	{ "ModelLODInfo", 		TOK_IGNORE | TOK_PARSETABLE_INFO, sizeof(ModelLODInfo), 0, NULL, 0, NULL },
	{ "",					TOK_STRUCTPARAM | TOK_POOL_STRING | TOK_STRING(ModelLODInfo, modelname, 0), NULL },
	{ "AutoLOD",			TOK_STRUCT(ModelLODInfo, lods, parse_AutoLOD) },
	{ "Filename",			TOK_POOL_STRING | TOK_CURRENTFILE(ModelLODInfo, parsed_filename), NULL},
	{ "LODTemplate",		TOK_REFERENCE(ModelLODInfo, lod_template, 0, "ModelLODTemplate") },
	{ "ForceAutomatic",		TOK_BIT, 0, 8, NULL},
	{ "HighDetailHighLod",	TOK_BIT, 0, 8, NULL},
	{ "PreventClustering",	TOK_BIT, 0, 8, NULL},
	{ "End",				TOK_END, 0 },
	{ "", 0, 0 }
};
void FindAutoStructBitField(char *pStruct, int iAllocedSizeInWords, ParseTable *pTPIColumn);
int autoStruct_fixup_ModelLODInfo()
{
	int iSize = sizeof(ModelLODInfo);
	static char once = 0;
	if (once) return 0;
	once = 1;
	ParserSetTableInfo(parse_ModelLODInfo, iSize, "ModelLODInfo", NULL, "wlAutoLOD.h", 0 | SETTABLEINFO_ALLOW_CRC_CACHING  );
	{
		int iSizeInWords = (sizeof(ModelLODInfo) + 7) / 4;
		ModelLODInfo *pTemp = alloca(iSizeInWords * 4);
		memset(pTemp, 0, iSizeInWords * 4);
		pTemp->force_auto = ~0;
		FindAutoStructBitField((char*)pTemp, iSizeInWords, &parse_ModelLODInfo[5]);
		pTemp->force_auto = 0;
		pTemp->high_detail_high_lod = ~0;
		FindAutoStructBitField((char*)pTemp, iSizeInWords, &parse_ModelLODInfo[6]);
		pTemp->high_detail_high_lod = 0;
		pTemp->prevent_clustering = ~0;
		FindAutoStructBitField((char*)pTemp, iSizeInWords, &parse_ModelLODInfo[7]);
		pTemp->prevent_clustering = 0;
	}
	return 0;
};
//autogeneratednocheckin
extern ParseTable parse_ModelLODInfo[];
#define TYPE_parse_ModelLODInfo ModelLODInfo
//Structparser.exe autogenerated ParseTable for struct LODInfos
#define TYPE_parse_LODInfos LODInfos
ParseTable parse_LODInfos[] =
{
	{ "LODInfos", 	TOK_IGNORE | TOK_PARSETABLE_INFO, sizeof(LODInfos), 0, NULL, 0, NULL },
	{ "LODInfo",	TOK_STRUCT(LODInfos, infos, parse_ModelLODInfo) },
	{ "", 0, 0 }
};
int autoStruct_fixup_LODInfos()
{
	int iSize = sizeof(LODInfos);
	static char once = 0;
	if (once) return 0;
	once = 1;
	ParserSetTableInfo(parse_LODInfos, iSize, "LODInfos", NULL, "wlAutoLOD.h", 0 | SETTABLEINFO_ALLOW_CRC_CACHING  );
	return 0;
};
