#pragma once
GCC_SYSTEM

typedef struct Packet Packet;

typedef struct
{
	Vec3	pyr;
	Vec3	scale;
	Vec3	pos;
	char	has_pyr,has_scale,has_pos;
} PackMat;


#define POS_SCALE (256.f/4.f)
#define POS_BITS 24

// Generated by mkproto
U32 packQuatElem(F32 qelem,int numbits);
F32 unpackQuatElem(U32 val,int numbits);
U32 packQuatElemQuarterPi(F32 qelem,int numbits);
F32 unpackQuatElemQuarterPi(U32 val,int numbits);
U32 packEuler(F32 ang,int numbits);
F32 unpackEuler(U32 val,int numbits);
U32 packPos(F32 pos);
F32 unpackPos(U32 ut);
F32 quantizePos(F32 pos);
void unitZeroMat(Mat4 mat,int *unit,int *zero);
int packMat(const Mat4 mat_in,PackMat *pm);
void unpackMat(PackMat *pm,Mat4 mat);
void pktSendF32Comp(Packet *pak,F32 val);
F32 pktGetF32Comp(Packet *pak);
void pktSendF32Deg(Packet *pak,F32 val);
F32 pktGetF32Deg(Packet *pak);
void pktSendF32(Packet *pak,F32 val);
#define pktSendFloat(pak,val) pktSendF32(pak,val)
F32 pktGetF32(Packet *pak);
#define pktGetFloat(pak) pktGetF32(pak)
void pktSendZippedAlready(Packet *pak,int numbytes,int zipbytes,void *zipdata);
void pktSendZipped(Packet *pak,int numbytes,void *data);
U8 *pktGetZipped(Packet *pak,U32 *numbytes_p);
U8 *pktGetZippedInfo(Packet *pak,U32 *zipbytes_p,U32 *rawbytes_p);
void pktGetMat4(Packet *pak, Mat4 mat);
void pktSendMat4(Packet *pak,const Mat4 mat);
void pktGetMat4Full(Packet *pak, Mat4 mat);
void pktSendMat4Full(Packet *pak, const Mat4 mat);
void pktGetQuat(Packet *pak, Quat quat);
void pktSendQuat(Packet *pak, const Quat quat);
void pktGetVec2(Packet *pak, Vec2 vec);
void pktGetVec3(Packet *pak, Vec3 vec);
void pktSendVec2(Packet *pak, const Vec2 vec);
void pktSendVec3(Packet *pak, const Vec3 vec);
void pktGetIVec2(Packet* pak, IVec2 vec);
void pktGetIVec3(Packet* pak, IVec3 vec);
void pktSendIVec2(Packet *pak, const IVec2 vec);
void pktSendIVec3(Packet *pak, const IVec3 vec);
void pktGetVec4(Packet *pak, Vec4 vec);
void pktSendVec4(Packet *pak, const Vec4 vec);
Color pktGetColor(Packet *pak);
void pktSendColor(Packet *pak, Color clr);

// End mkproto
