@echo off
FOR /F "tokens=2 delims=/ " %%A IN ('DATE /T') DO SET month=%%A
FOR /F "tokens=3 delims=/ " %%A IN ('DATE /T') DO SET day=%%A
FOR /F "tokens=4 delims=/ " %%A IN ('DATE /T') DO SET year=%%A
FOR /F "tokens=1 delims=:" %%A IN ("%TIME%") DO SET hour=%%A
if "%hour:~0,1%"==" " set hour=0%hour:~1,1%
FOR /F "tokens=2 delims=:" %%A IN ("%TIME%") DO SET minute=%%A


echo // Autogenerated by GenerateVersion.bat >version.h
echo #define BUILD_YEAR %year% >>version.h
echo #define BUILD_MONTH %month% >>version.h
echo #define BUILD_DAY %day% >>version.h
echo #define BUILD_HOUR %hour% >>version.h
echo #define BUILD_MINUTE %minute% >>version.h
echo #define BUILD_TIME %hour%%minute% >>version.h
echo #define BUILD_VERSIONSTAMP "%year%, %month%, %day%, %hour%%minute%" >>version.h
echo #define BUILD_TIMESTAMP "%year%-%month%-%day%_%hour%:%minute%" >>version.h
echo #define BUILD_CRYPTICSTAMP "CL_%year%_%month%_%day%_%hour%_%minute%" >>version.h	